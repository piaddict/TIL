# Kotlin Type System

## Nullability

널 가능성은 `NullPointerException`(NPE)를 피하기 위한 코틀린 타입 시스템의 특성이다.

코틀린을 비롯한 최신 언어에서 `null`에 대한 접근 방법은 되도록이면 컴파일 시점에서 확인하는 것이다.
`nuul`이 될 수 있는지 여부를 타입 시스템에 추가함으로써 컴파일러가 오류를 미리 감지 할 수 있다.

### 널이 될 수 있는 타입

코틀린과 자바의 가장 중요한 차이는 코틀린 타입 시스템이 `nuul`이 될 수 있는 타입을 명시적으로 지원한다는 것이다.

어떤 변수가 널이 될 수 있다면 그 변수를 수신객체로 메소드를 호출 할 시 NPE가 발생할 수 있으므로 안전하지 않다.
코틀린은 그런 메소드 호출을 금지함으로써 많은 오류를 방지한다.

```java
int strLen(String s) {
  return s.length();
}
```

만약 위의 함수에서 s가 `null`이면 NPE가 발생한다.
이 함수를 코틀린으로 다시 작성하면 다음과 같다.

```kt
fun strLen(s: String) = s.length
```

코틀린에서 strLen에 `null`이거나 널이 될 수 있는 인자를 넘기는 것은 금지되어 있으며,
그런 값을 넘긴다면 컴파일 시 오류가 발생한다.

이 함수가 널과 문자열 모두를 인자로 받으려면 타입 이름 뒤에 물음표 `?`를 명시해야 한다.

```kt
fun strLenSafe(s: String?) = ...
```

널이 될 수 있는 타입의 값이 있다면 그 값에 대해 수행할 수 있는 연산의 종류는 제한적이다.
이렇게 제약이 많다면 널이 될 수 있는 타입의 값으로 무엇을 할 수 있을까.
가장 중요한 것은 결과 값을 `null`과 비교하는 것이다.

```kt
fun strLenSafe(s: String?): Int = if (s != null) s.length else 0
```

널 가능성을 `if`로 확인할 수 밖에 없다면 코드가 복잡하지겠지만, 코틀링네서는 널이 될 수 있는 값을 다룰 때 여러 도구를 제공한다.

### 타입의 의미
